<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
    <title>2020謹賀新年 - まぐまぐ！</title>
</head>

<body style="margin:0px; overflow:hidden;">
    <!-- A-Frameを読み込み -->
    <script src="https://aframe.io/releases/0.9.2/aframe.min.js"></script>
    <!-- AR.jsを読み込み -->
    <script src="https://cdn.rawgit.com/jeromeetienne/AR.js/1.6.2/aframe/build/aframe-ar.js"></script>
    <!-- glTFに含まれたアニメーションを再生する為の読み込み -->
    <script src="https://cdn.rawgit.com/donmccurdy/aframe-extras/v6.0.0/dist/aframe-extras.min.js"></script>
    <!-- A-Frame の VR空間に AR.js を紐づける（デバッグUIを非表示） -->
    <div style="z-index:-10;background-color: #d4af37; color:#222; width: 100vw; height: 100vh;position: absolute;top: 0;left: 0;padding-top: 50px;">
        <div class="loading">
            <p style="color: #333; font-size: 0.7em;" class="title">宝を生成しています...</p>
            <img src="loading.gif" />
            <h1 class="title">読み込み中...</h1>
            <p class="title">ポップアップでカメラへのアクセスを「許可」を選択してください</p>
        </div>
        <style type="text/css">
        .loading {
            margin: 50px auto;
            width: 90%;
            text-align: center;
        }

        .title {
            font-family: "游ゴシック体", YuGothic, "游ゴシック Medium", "Yu Gothic Medium", "游ゴシック", "Yu Gothic", sans-serif;
            margin-bottom: 10px;
            color: #8b0000;
        }
        </style>
    </div>
    <a-scene embedded arjs="debugUIEnabled:false;" gltf-model="dracoDecoderPath: ./draco/;" loading-screen="enabled:false">
        <!-- OBJ形式のCGモデルの読み込み -->
        <a-assets>
            <a-asset-item id="objfuku" src="magcyan-fukubukuro.glb"></a-asset-item>
        </a-assets>
        <!-- マーカーを登録 -->
        <a-marker type="pattern" url="pattern-marker.patt">
            <!-- マーカーの場所に OBJ 形式の 3DCG を置く -->
            <a-entity gltf-model="#objfuku" scale="0.3 0.3 0.3" position="0 0 0" animation-mixer></a-entity>
            <a-circle id="ground" radius="0.7" color="#000" opacity="0.3" rotation="-90 0 0"></a-circle>
            <a-light type="ambient" color="#ffffff" intensity="0.5"></a-light>
            <a-light type="point" intensity="1" position="0 5 0"></a-light>
            <a-light type="point" intensity="0.5" position="0 0 2"></a-light>
            <!--<a-light type="point" intensity="0.5" position="-5 0 0" shadow="cast: true"></a-light>
            <a-light type="point" intensity="0.5" position="5 5 5" shadow="cast: true"></a-light>-->
        </a-marker>
        <a-light type="point" intensity="0.5" position="0 0 2"></a-light>
        <!--
        <a-light type="directional" intensity="1" position="0 0 5" shadow="cast: true"></a-light>-->
        <!--<a-plane rotation="-90 0 0" position="0 0 0" height="50" width="50" shadow="receive: true" color="#fff"></a-plane>-->
        <!-- AR用のカメラを置く -->
        <a-entity camera></a-entity>
    </a-scene>
</body>
<script>
document.querySelector("a-scene").renderer.gammaOutput = true;
</script>

</html>